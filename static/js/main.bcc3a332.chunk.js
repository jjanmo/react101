(this.webpackJsonpreact101=this.webpackJsonpreact101||[]).push([[0],{19:function(e,t,n){e.exports=n(44)},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),c=n.n(i),s=n(2),o=n.n(s),u=n(14),l=n(15),v=n(16),m=n(18),p=n(17),g=n(3),d=n.n(g);n(42);function f(e){var t=e.genres;return r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:t},e)})))}var h=function(e){var t=e.id,n=e.title,a=e.overview,i=e.poster,c=e.rating,s=e.release,o=e.genres;return r.a.createElement("section",{id:t},r.a.createElement("img",{src:"".concat("https://image.tmdb.org/t/p/w154").concat(i),alt:n,title:n}),r.a.createElement("div",{className:"movie-detail"},r.a.createElement("h2",null,n),r.a.createElement("span",{className:"release-year"},s.split("-").join(".")),"\ud83c\udf88",r.a.createElement("span",{className:"rating"},c," / 10"),r.a.createElement(f,{genres:o}),r.a.createElement("div",{className:"overview"},"".concat(a.slice(0,150),"..."))))},b=(n(43),"f064a67e0d808eb7bb367bbd759b1bcc"),E=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isLoading:!0,movieList:[]},a}return Object(v.a)(n,[{key:"changeObj",value:function(e){var t={};return e.forEach((function(e){t[e.id]=e.name})),t}},{key:"getMovieList",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat(b,"&language=en-US&page=1"));case 2:return t=e.sent,n=t.data.results,e.next=6,d.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(b));case 6:a=e.sent,r=a.data.genres,i=this.changeObj(r),n.forEach((function(e){e.genres=e.genre_ids.reduce((function(e,t){return e.concat(i[t])}),[])})),console.log(n),this.setState({isLoading:!1,movieList:n});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderMovies",value:function(e){return e.map((function(e){return r.a.createElement(h,{key:e.id,id:e.id,title:e.title,overview:e.overview,poster:e.poster_path,rating:e.vote_average,release:e.release_date,genres:e.genres})}))}},{key:"componentDidMount",value:function(){this.getMovieList()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.movieList;return r.a.createElement("div",{className:"wrapper"},t?"Loading...":this.renderMovies(n))}}]),n}(r.a.Component);c.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.bcc3a332.chunk.js.map